---
description:
globs:
alwaysApply: false
---
# 数据库设计

## 用户表 (user)

| 字段名 | 类型 | 描述 |
| --- | --- | --- |
| id | BIGINT | 主键，自增 |
| user_account | VARCHAR(50) | 用户账号，唯一 |
| user_name | VARCHAR(50) | 用户名 |
| user_password | VARCHAR(100) | 用户密码（加密存储） |
| user_role | TINYINT | 用户角色：1-管理员，2-VIP，3-普通用户 |
| user_email | VARCHAR(100) | 用户邮箱 |
| user_phone | VARCHAR(20) | 用户电话 |
| create_time | DATETIME | 创建时间 |
| update_time | DATETIME | 更新时间 |
| is_delete | TINYINT | 是否删除：0-未删除，1-已删除 |

## 日记模版表 (diary_template)

| 字段名 | 类型 | 描述 |
| --- | --- | --- |
| id | BIGINT | 主键，自增 |
| type | VARCHAR(50) | 模版类型：简洁、详细等 |
| content | TEXT | 模版内容 |
| creator_id | BIGINT | 创建人ID |
| create_time | DATETIME | 创建时间 |
| update_time | DATETIME | 更新时间 |
| is_delete | TINYINT | 是否删除：0-未删除，1-已删除 |

## AI配置表 (ai_config)

| 字段名 | 类型 | 描述 |
| --- | --- | --- |
| id | BIGINT | 主键，自增 |
| ai_key | VARCHAR(200) | AI密钥 |
| ai_provider | VARCHAR(50) | AI提供商 |
| ai_model | VARCHAR(50) | AI模型名称 |
| status | TINYINT | 状态：0-禁用，1-启用 |
| create_time | DATETIME | 创建时间 |
| update_time | DATETIME | 更新时间 |
| is_delete | TINYINT | 是否删除：0-未删除，1-已删除 |

## 待办事项表 (todo_list)

| 字段名 | 类型 | 描述 |
| --- | --- | --- |
| id | BIGINT | 主键，自增 |
| user_id | BIGINT | 用户ID |
| content | VARCHAR(500) | 待办内容 |
| status | TINYINT | 状态：0-未完成，1-已完成 |
| create_time | DATETIME | 创建时间 |
| update_time | DATETIME | 更新时间 |
| is_delete | TINYINT | 是否删除：0-未删除，1-已删除 |

## 报告表 (report)

| 字段名 | 类型 | 描述 |
| --- | --- | --- |
| id | BIGINT | 主键，自增 |
| user_id | BIGINT | 用户ID |
| content | TEXT | 内容 |
| type | TINYINT | 类型：1-日报，2-周报，3-月报 |
| create_time | DATETIME | 创建时间 |
| update_time | DATETIME | 更新时间 |
| is_delete | TINYINT | 是否删除：0-未删除，1-已删除 |

## 开支表 (expense)

| 字段名 | 类型 | 描述 |
| --- | --- | --- |
| id | BIGINT | 主键，自增 |
| user_id | BIGINT | 用户ID |
| item | VARCHAR(100) | 物品名称 |
| amount | DECIMAL(10,2) | 金额 |
| type | TINYINT | 类型：1-收入，2-支出 |
| remark | VARCHAR(200) | 备注 |
| create_time | DATETIME | 创建时间 |
| update_time | DATETIME | 更新时间 |
| is_delete | TINYINT | 是否删除：0-未删除，1-已删除 |

## 日记表 (diary)

| 字段名 | 类型 | 描述 |
| --- | --- | --- |
| id | BIGINT | 主键，自增 |
| user_id | BIGINT | 用户ID |
| title | VARCHAR(100) | 日记标题 |
| content | TEXT | 日记内容 |
| diary_date | DATE | 日记日期 |
| mood | TINYINT | 心情指数 |
| tags | VARCHAR(200) | 标签，逗号分隔 |
| create_time | DATETIME | 创建时间 |
| update_time | DATETIME | 更新时间 |
| is_delete | TINYINT | 是否删除：0-未删除，1-已删除 |
